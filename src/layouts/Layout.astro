---
import "../styles/global.css";

export interface Props {
  title?: string;
  description?: string;
  image?: string;
  lang?: string;
  type?: string;
}

const {
  title = "IA³ Research Group",
  description = "IA³ (Inteligencia Artificial Aplicada y Algoritmos) research group focused on machine learning, applied AI, LLMs, agents, RAG, and AI fairness.",
  image = "/init.webp",
  lang = "es",
  type = "website",
} = Astro.props;

const siteUrl = Astro.site?.toString() ?? "https://ia3research.github.io";
const canonicalUrl = new URL(Astro.url.pathname, siteUrl).toString();
const imageUrl = new URL(image, siteUrl).toString();

const jsonLd = {
  "@context": "https://schema.org",
  "@type": "ResearchOrganization",
  name: "IA3 Research Group",
  alternateName: "IA³",
  url: siteUrl,
  description:
    "Grupo IA³ (Inteligencia Artificial Aplicada y Algoritmos, UJI): aprendizaje automático, inteligencia artificial aplicada, LLMs, agentes, RAG y fairness en IA. Research on machine learning, applied AI, LLMs, agents, RAG, AI fairness.",
  sameAs: ["https://www.linkedin.com/company/107891652"],
};
---

<!doctype html>
<html lang={lang} class='bg-zinc-50 text-neutral- w-full h-full m-0'>
  <head>
    <meta charset='UTF-8' />
    <meta name='viewport' content='width=device-width, initial-scale=1' />
    <link rel='icon' type='image/png' href='/favicon.png' />
    <meta name='generator' content={Astro.generator} />
    <title>{title}</title>
    <meta name='description' content={description} />
    <link rel='canonical' href={canonicalUrl} />
    <meta property='og:site_name' content='IA³ Research Group' />
    <meta property='og:type' content={type} />
    <meta property='og:url' content={canonicalUrl} />
    <meta property='og:title' content={title} />
    <meta property='og:description' content={description} />
    <meta property='og:image' content={imageUrl} />
    <meta name='twitter:card' content='summary_large_image' />
    <meta name='twitter:title' content={title} />
    <meta name='twitter:description' content={description} />
    <meta name='twitter:image' content={imageUrl} />
    <script type='application/ld+json'>{JSON.stringify(jsonLd)}</script>
  </head>
  <body class='bg-zinc-50 text-neutral- w-full h-full m-0 selection:bg-blue-300/70'>
    <slot />
    <div
      id='back-top'
      class='fixed bottom-4 right-4 size-12 bg-blue-400 rounded-lg items-center justify-center cursor-pointer shadow-md z-50 hidden'>
      <svg
        xmlns='http://www.w3.org/2000/svg'
        class='h-6 w-6'
        fill='none'
        viewBox='0 0 24 24'
        stroke='white'>
        <path
          stroke-linecap='round'
          stroke-linejoin='round'
          stroke-width='2'
          d='M5 15l7-7 7 7'></path>
      </svg>
    </div>
  </body>
</html>

<style>
  html,
  body {
    font-family: Inconsolata, monospace;
  }
</style>

<script defer>
  const backTop = document.getElementById("back-top");
  backTop.addEventListener("click", () => {
    window.scrollTo({ top: 0, behavior: "smooth" });
  });
  window.addEventListener("scroll", () => {
    if (window.scrollY > 40) {
      backTop.classList.remove("hidden");
      backTop.classList.add("flex");
    } else {
      backTop.classList.add("hidden");
      backTop.classList.remove("flex");
    }
  });
</script>
